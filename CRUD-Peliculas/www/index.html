<!DOCTYPE html>
<html manifest="index.appcache">
<head>
    <title>Movies Database</title>
    <meta charset='utf-8' />
    <meta name='format-detection' content='telephone=no' />
    <meta name='viewport' content='width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1, maximum-scale=1' />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/MaquinaEstados.js"></script>
    <script src="scripts/crud/Editar.js"></script>
    <script src="scripts/crud/Nueva.js"></script>
    <script src="scripts/crud/Index.js"></script>
    <script src="scripts/crud/Eliminar.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/rateYo/2.2.0/jquery.rateyo.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">

    <script src="scripts/app.js" type="text/javascript"></script>

</head>
<body>
    <!-- Pantalla de bienvenida -->
    <div id="pgMenu" data-role="page" data-theme="b">
        <header id="pgMenuHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>PeliDB</h1>
        </header>
        <div id="pgMenuCnt" data-role="content">
            <div data-role="content">
                <h1>Base de datos</h1>
                <h1>CRUD de Pelis</h1>
                <h2>El recordatorio de tus películas indispensables</h2>
            </div>
            <ul data-role="listview">
                <li data-corners="false" data-shadow="false" data-iconshadow="true" data-icon="arrow-r"
                    data-iconpos="right" data-theme="c"
                    class="ui-btn ui-btn-icon-right ui-li-has-arrow ui-li ui-corner-top ui-btn-up-c">
                    <a style="text-decoration: none; color: #FFFFFF;" id="sbMovie" data-transition="slide" href="#pgMovie">
                        <img height="96" width="96" title="Movies" src="images/movie.png" alt="peli-no-image" />
                        <br /><strong>Accede a tus películas</strong>
                    </a>
                </li>
            </ul>
        </div>
        <footer id="pgMenuFtr" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <h1>4vientos - diw</h1>
        </footer>
    </div>
    <!-- Pantalla principal:
        - Página de menu
        - Lisado de películas
         -->
    <div id="pg" data-role="page" data-theme="b">
        <header id="pgHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>PeliBD</h1>
            <a data-role="button" id="Back" data-icon="carat-l" data-theme="a" data-transition="slide" href="#pgMenu" class="ui-btn-left">Back</a>
        </header>
        <div id="pgCnt" data-role="content">
        </div>
        <footer id="pgFtr" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <h1>4vientos - diw</h1>
        </footer>
    </div>
    <!-- Página principal de peliculas-->
    <div id="pgMovie" data-role="page">
        <!-- Panel lateral izquierdo -->
        <div data-position="left" data-display="overlay" data-position-fixed="true" id="pgMovieLeftPnl" data-role="panel">
            <ul data-role="listview" id="pgMovieLeftPnlLV">
                <li><a data-transition="slide" href="#pgMenu" class="ui-btn ui-icon-carat-l ui-btn-icon-left">Volver</a></li>
            </ul>
        </div>
        <header id="pgMovieHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>PeliBD</h1>
            <a data-role="button" id="pgMovieMenu" data-icon="bars" data-transition="slide" href="#pgMovieLeftPnl" class="ui-btn-left">Menú</a>
            <a data-role="button" id="pgMovieNew" data-icon="plus" data-theme="b" class="ui-btn-right">Nueva</a>
        </header>
        <div id="pgMovieCnt" data-role="content">
            <h3>Películas</h3><ul data-role="listview" data-inset="true" id="pgMovieList" data-autodividers="true" data-filter="true" data-filter-placeholder="Buscar películas">
                <li data-role="list-divider">Tus películas</li>
                <li id="noMovie">No dispones de películas</li>
            </ul>
        </div>
    </div>


    <!-- Página para añadir nuevas películas -->
    <div id="pgAddMovie" data-role="page">
        <!-- Panel lateral izquierdo para vuelta atrás-->
        <div data-position="left" data-display="overlay" data-position-fixed="true" id="pgAddMovieLeftPnl" data-role="panel">
            <ul data-role="listview" id="pgAddMovieLeftPnlLV">
                <li><a data-transition="slide" href="#pgMovie" class="ui-btn ui-icon-carat-l ui-btn-icon-left">Back</a></li>
            </ul>
        </div>
        <div data-position="right" data-display="overlay" data-position-fixed="true" id="pgAddMovieRightPnl" data-role="panel">
            <ul data-role="listview" id="pgAddMovieRightPnlLV"></ul>
        </div>
        <!-- Menú de cabecera fíjo-->
        <header id="pgAddMovieHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>PeliBD</h1>
            <a data-role="button" id="pgAddMovieMenu" data-icon="bars" href="#pgAddMovieLeftPnl" class="ui-btn-left">Menu</a>
            <a data-role="button" id="pgMovieNew" data-icon="plus" data-theme="b" class="ui-btn-right">Nueva</a>
        </header>
        <div id="pgAddMovieCnt" data-role="content">
            <h3>Add Movie</h3><div id="pgAddMovieForm">
                <div data-role="fieldcontain">
                    <label for="pgAddMovieMovieName">Nombre película<span class='red'>*</span></label>
                    <input required name="pgAddMovieMovieName" title="Introduce el nombre aquí." type="text" id="pgAddMovieMovieName" placeholder="Introduce el nombre aquí." autocomplete="off" data-clear-btn="true"></input>
                </div>
                <div data-role="fieldcontain">
                    <label for="pgAddMovieMovieYear">Año película<span class='red'>*</span></label>
                    <input required name="pgAddMovieMovieYear" title="Introduce el año aquí." type="text" id="pgAddMovieMovieYear" placeholder="Introduce el año aquí." autocomplete="off" data-clear-btn="true"></input>
                </div>
                <div data-role="fieldcontain">
                    <label for="pgAddMovieMovieGenre">Género película<span class='red'>*</span></label>
                    <input required name="pgAddMovieMovieGenre" title="Introduce el género aquí." type="text" id="pgAddMovieMovieGenre" placeholder="Introduce el género aquí." autocomplete="off" data-clear-btn="true"></input>
                </div>
            </div>
        </div>
        <!-- Menú con opciones de guardar y cancelar -->
        <footer id="pgAddMovieFtr" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <div id="pgAddMovieFtrNavBar" data-role="navbar">
                <ul>
                    <li>
                        <a id="pgAddMovieBack" data-icon="carat-l">Cancelar</a>
                    </li>
                    <li>
                        <a type="submit" id="pgAddMovieSave" data-icon="action">Guardar</a>
                    </li>
                </ul>
            </div>
        </footer>
    </div>
    <!-- Pantalla para la edición de películas -->
    <div data-url="MovieName" id="pgEditMovie" data-role="page">
        <div data-position="left" data-display="overlay" data-position-fixed="true" id="pgEditMovieLeftPnl" data-role="panel">
            <ul data-role="listview" id="pgEditMovieLeftPnlLV">
                <li><a data-transition="slide" href="#pgMovie" class="ui-btn ui-icon-carat-l ui-btn-icon-left">Back</a></li>
            </ul>
        </div>
        <div data-position="right" data-display="overlay" data-position-fixed="true" id="pgEditMovieRightPnl" data-role="panel">
            <ul data-role="listview" id="pgEditMovieRightPnlLV"></ul>
        </div>

        <header id="pgEditMovieHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>PeliDB</h1>
            <a data-role="button" id="pgEditMovieMenu" data-icon="bars" href="#pgEditMovieLeftPnl" class="ui-btn-left">Menu</a>
        </header>
        <div id="pgEditMovieCnt" data-role="content">
            <h3>Edit Movie</h3><div id="pgEditMovieForm">
                <div data-role="fieldcontain">
                    <label for="pgEditMovieMovieName">Nombre película<span class='red'>*</span></label>
                    <input required readonly="readonly" data-clear-btn="true" autofocus="true" name="pgEditMovieMovieName" title="Introduce el nombre aquí." type="text" id="pgEditMovieMovieName" placeholder="Introduce el nombre aquí." autocomplete="off"></input>
                </div>
                <div data-role="fieldcontain">
                    <label for="pgEditMovieMovieYear">Año película<span class='red'>*</span></label>
                    <input required name="pgEditMovieMovieYear" title="Introduce el año aquí." type="text" id="pgEditMovieMovieYear" placeholder="Introduce el año aquí." autocomplete="off" data-clear-btn="true"></input>
                </div>
                <div data-role="fieldcontain">
                    <label for="pgEditMovieMovieGenre">Genero película<span class='red'>*</span></label>
                    <input required name="pgEditMovieMovieGenre" title="Introduce el género aquí." type="text" id="pgEditMovieMovieGenre" placeholder="Introduce el género aquí." autocomplete="off" data-clear-btn="true"></input>
                </div>
            </div>
        </div>

        <footer id="pgEditMovieFtr" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <div id="pgEditMovieFtrNavBar" data-role="navbar">
                <ul>
                    <li>
                        <a data-transition="slide" id="pgEditMovieBack" data-icon="carat-l" href="#pgMovie">Cancelar</a>
                    </li>
                    <li>
                        <a type="submit" id="pgEditMovieUpdate" data-icon="action">Actualizar</a>
                    </li>
                    <li>
                        <a data-rel="popup" data-transition="pop" id="pgEditMovieDelete" data-icon="delete" href="#msgbox">Borrar</a>
                    </li>
                </ul>
            </div>
        </footer>
    </div>
    <!-- Ventanas de confirmación -->
    <div data-dismissible="false" data-close-btn="none" data-transition="pop" id="msgbox" data-role="popup">

        <header id="msgboxHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>Confirmar</h1>
        </header>
        <div id="msgboxCnt" data-role="content">
            <div id="msgboxtitle">
            </div>
            <br><div id="msgboxprompt">
                <p>¿Estas seguro de querer borrar el registro?</p>
            </div>
            <br><div id="msgboxbuttons" class="centertext ui-grid-a">
                <div class="ui-block-a">
                    <a data-method="" data-id="" data-topage="" id="msgboxyes" data-role="button" data-icon="check">Si</a>
                </div>
                <div class="ui-block-b">
                    <a data-method="" data-id="" data-topage="" id="msgboxno" data-role="button" data-icon="delete" data-theme="b">No</a>
                </div>
            </div>
        </div>

    </div>
    <div data-dismissible="false" data-close-btn="none" data-transition="pop" id="alertbox" data-role="popup">

        <header id="alertboxHdr" data-role="header" data-position="fixed" data-tap-toggle="false">
            <h1>Error</h1>
        </header>
        <div id="alertboxCnt" data-role="content">
            <div id="alertboxtitle">
            </div>
            <br><div id="alertboxprompt">
                <p>A ocurrido un error!</p>
            </div>
            <br><div id="alertboxbuttons" class="centertext ui-grid-solo">
                <div class="ui-block-a">
                    <a data-method="" data-id="" data-topage="" id="alertboxok" data-role="button" data-icon="check" data-theme="b">Ok</a>
                </div>
            </div>
        </div>

    </div>
</body>
</html>
